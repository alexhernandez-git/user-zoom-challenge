{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useSetRecoilState } from \"recoil\";\nimport usersState from \"../state/usersState\";\n\nconst useGetUsers = async function () {\n  _s();\n\n  let {\n    results = 50,\n    nationalities = []\n  } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const setUsers = useSetRecoilState(usersState);\n  const {\n    isLoading,\n    error,\n    data\n  } = await useQuery([\"randomUsersData\", results, nationalities], () => axios.get(`https://randomuser.me/api/?inc=name,nat,picture,email,phone&results=${results}&nat=${nationalities.join(\",\").toLowerCase()}`).then(res => res.data).catch(err => err.response));\n  useEffect(() => {\n    if (isLoading) {\n      setUsers(users => {\n        return { ...users,\n          loading: true,\n          error: error\n        };\n      });\n    } else {\n      if (error) setUsers({ ...data,\n        loading: false,\n        error: error\n      });else setUsers({ ...data,\n        loading: false,\n        error: null\n      });\n    }\n  }, [isLoading]);\n};\n\n_s(useGetUsers, \"AkZOQa0dl+HEJ5o5NKsH+gULeWY=\", false, function () {\n  return [useSetRecoilState, useQuery];\n});\n\nexport default useGetUsers;","map":{"version":3,"sources":["/Users/alexhernandezprat/code/satoshis-tech-test/src/hooks/useGetUsers.ts"],"names":["axios","useEffect","useQuery","useSetRecoilState","usersState","useGetUsers","results","nationalities","setUsers","isLoading","error","data","get","join","toLowerCase","then","res","catch","err","response","users","loading"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAASC,iBAAT,QAAkC,QAAlC;AACA,OAAOC,UAAP,MAAuB,qBAAvB;;AAOA,MAAMC,WAAW,GAAG,kBAGa;AAAA;;AAAA,MAHN;AACzBC,IAAAA,OAAO,GAAG,EADe;AAEzBC,IAAAA,aAAa,GAAG;AAFS,GAGM,uEAAP,EAAO;AAC/B,QAAMC,QAAQ,GAAGL,iBAAiB,CAACC,UAAD,CAAlC;AAEA,QAAM;AAAEK,IAAAA,SAAF;AAAaC,IAAAA,KAAb;AAAoBC,IAAAA;AAApB,MAA6B,MAAMT,QAAQ,CAC/C,CAAC,iBAAD,EAAoBI,OAApB,EAA6BC,aAA7B,CAD+C,EAE/C,MACEP,KAAK,CACFY,GADH,CAEK,uEAAsEN,OAAQ,QAAOC,aAAa,CAChGM,IADmF,CAC9E,GAD8E,EAEnFC,WAFmF,EAErE,EAJrB,EAMGC,IANH,CAMSC,GAAD,IAASA,GAAG,CAACL,IANrB,EAOGM,KAPH,CAOUC,GAAD,IAASA,GAAG,CAACC,QAPtB,CAH6C,CAAjD;AAYAlB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIQ,SAAJ,EAAe;AACbD,MAAAA,QAAQ,CAAEY,KAAD,IAAW;AAClB,eAAO,EAAE,GAAGA,KAAL;AAAYC,UAAAA,OAAO,EAAE,IAArB;AAA2BX,UAAAA,KAAK,EAAEA;AAAlC,SAAP;AACD,OAFO,CAAR;AAGD,KAJD,MAIO;AACL,UAAIA,KAAJ,EAAWF,QAAQ,CAAC,EAAE,GAAGG,IAAL;AAAWU,QAAAA,OAAO,EAAE,KAApB;AAA2BX,QAAAA,KAAK,EAAEA;AAAlC,OAAD,CAAR,CAAX,KACKF,QAAQ,CAAC,EAAE,GAAGG,IAAL;AAAWU,QAAAA,OAAO,EAAE,KAApB;AAA2BX,QAAAA,KAAK,EAAE;AAAlC,OAAD,CAAR;AACN;AACF,GATQ,EASN,CAACD,SAAD,CATM,CAAT;AAUD,CA5BD;;GAAMJ,W;UAIaF,iB,EAEwBD,Q;;;AAwB3C,eAAeG,WAAf","sourcesContent":["import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useSetRecoilState } from \"recoil\";\nimport usersState from \"../state/usersState\";\n\ninterface UseGetUsersInterface {\n  results?: number;\n  nationalities?: string[];\n}\n\nconst useGetUsers = async ({\n  results = 50,\n  nationalities = [],\n}: UseGetUsersInterface = {}) => {\n  const setUsers = useSetRecoilState(usersState);\n\n  const { isLoading, error, data } = await useQuery(\n    [\"randomUsersData\", results, nationalities],\n    () =>\n      axios\n        .get(\n          `https://randomuser.me/api/?inc=name,nat,picture,email,phone&results=${results}&nat=${nationalities\n            .join(\",\")\n            .toLowerCase()}`\n        )\n        .then((res) => res.data)\n        .catch((err) => err.response)\n  );\n  useEffect(() => {\n    if (isLoading) {\n      setUsers((users) => {\n        return { ...users, loading: true, error: error };\n      });\n    } else {\n      if (error) setUsers({ ...data, loading: false, error: error });\n      else setUsers({ ...data, loading: false, error: null });\n    }\n  }, [isLoading]);\n};\n\nexport default useGetUsers;\n"]},"metadata":{},"sourceType":"module"}