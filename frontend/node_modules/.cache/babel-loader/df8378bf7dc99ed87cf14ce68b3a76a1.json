{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useMutation } from \"react-query\";\nimport { useSetRecoilState } from \"recoil\";\nimport favouritesState from \"../state/favouritesState\";\n\nconst useAddFavourite = () => {\n  _s();\n\n  const setFavourites = useSetRecoilState(favouritesState);\n  const mutation = useMutation(\"add favourite\", {\n    mutationFn: data => axios.post(`http://localhost:8080/api/favourites/`, {\n      repo: data\n    }),\n    onSuccess: (result, variables, context) => {\n      console.log(result, variables, context);\n      setFavourites(favourites => ({\n        results: [...favourites.results, result.data],\n        loading: false,\n        error: null\n      }));\n    },\n    onError: (error, variables, context) => {\n      console.log(error, variables, context);\n      setFavourites(favourites => ({\n        results: favourites.results,\n        loading: false,\n        error: error\n      }));\n    }\n  });\n  return mutation;\n};\n\n_s(useAddFavourite, \"2cSshNXyniN0sHbSeWNdIYSL+Ys=\", false, function () {\n  return [useSetRecoilState, useMutation];\n});\n\nexport default useAddFavourite;","map":{"version":3,"sources":["/app/src/hooks/useAddFavourite.ts"],"names":["axios","useMutation","useSetRecoilState","favouritesState","useAddFavourite","setFavourites","mutation","mutationFn","data","post","repo","onSuccess","result","variables","context","console","log","favourites","results","loading","error","onError"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,iBAAT,QAAkC,QAAlC;AACA,OAAOC,eAAP,MAA4B,0BAA5B;;AAGA,MAAMC,eAAe,GAAG,MAAM;AAAA;;AAC5B,QAAMC,aAAa,GAAGH,iBAAiB,CAACC,eAAD,CAAvC;AAEA,QAAMG,QAAQ,GAAGL,WAAW,CAAC,eAAD,EAAkB;AAC5CM,IAAAA,UAAU,EAAGC,IAAD,IAINR,KAAK,CAACS,IAAN,CAAY,uCAAZ,EAAoD;AAAEC,MAAAA,IAAI,EAAEF;AAAR,KAApD,CALsC;AAM5CG,IAAAA,SAAS,EAAE,CAACC,MAAD,EAASC,SAAT,EAAoBC,OAApB,KAAgC;AACzCC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAZ,EAAoBC,SAApB,EAA+BC,OAA/B;AACAT,MAAAA,aAAa,CAAEY,UAAD,KAA8B;AAC1CC,QAAAA,OAAO,EAAE,CAAC,GAAGD,UAAU,CAACC,OAAf,EAAwBN,MAAM,CAACJ,IAA/B,CADiC;AAE1CW,QAAAA,OAAO,EAAE,KAFiC;AAG1CC,QAAAA,KAAK,EAAE;AAHmC,OAA9B,CAAD,CAAb;AAKD,KAb2C;AAc5CC,IAAAA,OAAO,EAAE,CAACD,KAAD,EAAQP,SAAR,EAAmBC,OAAnB,KAA+B;AACtCC,MAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ,EAAmBP,SAAnB,EAA8BC,OAA9B;AACAT,MAAAA,aAAa,CAAEY,UAAD,KAA8B;AAC1CC,QAAAA,OAAO,EAAED,UAAU,CAACC,OADsB;AAE1CC,QAAAA,OAAO,EAAE,KAFiC;AAG1CC,QAAAA,KAAK,EAAEA;AAHmC,OAA9B,CAAD,CAAb;AAKD;AArB2C,GAAlB,CAA5B;AAuBA,SAAOd,QAAP;AACD,CA3BD;;GAAMF,e;UACkBF,iB,EAELD,W;;;AA0BnB,eAAeG,eAAf","sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport { useMutation } from \"react-query\";\nimport { useSetRecoilState } from \"recoil\";\nimport favouritesState from \"../state/favouritesState\";\nimport { IFavourites } from \"../types\";\n\nconst useAddFavourite = () => {\n  const setFavourites = useSetRecoilState(favouritesState);\n\n  const mutation = useMutation(\"add favourite\", {\n    mutationFn: (data: {\n      org: string | undefined;\n      repo: string;\n      owner: string;\n    }) => axios.post(`http://localhost:8080/api/favourites/`, { repo: data }),\n    onSuccess: (result, variables, context) => {\n      console.log(result, variables, context);\n      setFavourites((favourites: IFavourites) => ({\n        results: [...favourites.results, result.data],\n        loading: false,\n        error: null,\n      }));\n    },\n    onError: (error, variables, context) => {\n      console.log(error, variables, context);\n      setFavourites((favourites: IFavourites) => ({\n        results: favourites.results,\n        loading: false,\n        error: error,\n      }));\n    },\n  });\n  return mutation;\n};\n\nexport default useAddFavourite;\n"]},"metadata":{},"sourceType":"module"}