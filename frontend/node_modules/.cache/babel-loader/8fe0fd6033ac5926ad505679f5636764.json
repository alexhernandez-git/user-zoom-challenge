{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useSetRecoilState } from \"recoil\";\nimport favouritesState from \"../state/favouritesState\";\n\nconst useGetFavourites = () => {\n  _s();\n\n  const setFavourites = useSetRecoilState(favouritesState);\n  const {\n    isLoading,\n    error,\n    data\n  } = useQuery([\"favouritesData\"], () => axios.get(`http://localhost:8080/api/favourites/`).then(res => res.data).catch(err => err.response));\n  console.log(\"favourites\", data);\n  useEffect(() => {\n    if (isLoading) {\n      setFavourites(repos => {\n        return { ...repos,\n          loading: true,\n          error: false\n        };\n      });\n    } else {\n      console.log(\"error\", error);\n      if (error) setFavourites({\n        results: data,\n        loading: false,\n        error: error\n      });else {\n        console.log(\"entra\");\n        setFavourites(repos => ({ ...repos,\n          results: data,\n          loading: false,\n          error: null\n        }));\n      }\n    }\n  }, [isLoading]);\n};\n\n_s(useGetFavourites, \"efAxxrvdQE3Tl8BxakxGavemOpw=\", false, function () {\n  return [useSetRecoilState, useQuery];\n});\n\nexport default useGetFavourites;","map":{"version":3,"sources":["/Users/alexhernandezprat/code/user-zoom-challenge/frontend/src/hooks/useGetFavourites.ts"],"names":["axios","useEffect","useQuery","useSetRecoilState","favouritesState","useGetFavourites","setFavourites","isLoading","error","data","get","then","res","catch","err","response","console","log","repos","loading","results"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,SAASC,iBAAT,QAAkC,QAAlC;AACA,OAAOC,eAAP,MAA4B,0BAA5B;;AAGA,MAAMC,gBAAgB,GAAG,MAAM;AAAA;;AAC7B,QAAMC,aAAa,GAAGH,iBAAiB,CAACC,eAAD,CAAvC;AAEA,QAAM;AAAEG,IAAAA,SAAF;AAAaC,IAAAA,KAAb;AAAoBC,IAAAA;AAApB,MAA6BP,QAAQ,CAAC,CAAC,gBAAD,CAAD,EAAqB,MAC9DF,KAAK,CACFU,GADH,CACQ,uCADR,EAEGC,IAFH,CAESC,GAAD,IAASA,GAAG,CAACH,IAFrB,EAGGI,KAHH,CAGUC,GAAD,IAASA,GAAG,CAACC,QAHtB,CADyC,CAA3C;AAMAC,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BR,IAA1B;AACAR,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIM,SAAJ,EAAe;AACbD,MAAAA,aAAa,CAAEY,KAAD,IAAwB;AACpC,eAAO,EAAE,GAAGA,KAAL;AAAYC,UAAAA,OAAO,EAAE,IAArB;AAA2BX,UAAAA,KAAK,EAAE;AAAlC,SAAP;AACD,OAFY,CAAb;AAGD,KAJD,MAIO;AACLQ,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBT,KAArB;AACA,UAAIA,KAAJ,EAAWF,aAAa,CAAC;AAAEc,QAAAA,OAAO,EAAEX,IAAX;AAAiBU,QAAAA,OAAO,EAAE,KAA1B;AAAiCX,QAAAA,KAAK,EAAEA;AAAxC,OAAD,CAAb,CAAX,KACK;AACHQ,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAX,QAAAA,aAAa,CAAEY,KAAD,KAAyB,EACrC,GAAGA,KADkC;AAErCE,UAAAA,OAAO,EAAEX,IAF4B;AAGrCU,UAAAA,OAAO,EAAE,KAH4B;AAIrCX,UAAAA,KAAK,EAAE;AAJ8B,SAAzB,CAAD,CAAb;AAMD;AACF;AACF,GAlBQ,EAkBN,CAACD,SAAD,CAlBM,CAAT;AAmBD,CA7BD;;GAAMF,gB;UACkBF,iB,EAEaD,Q;;;AA4BrC,eAAeG,gBAAf","sourcesContent":["import axios from \"axios\";\nimport { useEffect } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { useSetRecoilState } from \"recoil\";\nimport favouritesState from \"../state/favouritesState\";\nimport { IFavourites } from \"../types\";\n\nconst useGetFavourites = () => {\n  const setFavourites = useSetRecoilState(favouritesState);\n\n  const { isLoading, error, data } = useQuery([\"favouritesData\"], () =>\n    axios\n      .get(`http://localhost:8080/api/favourites/`)\n      .then((res) => res.data)\n      .catch((err) => err.response)\n  );\n  console.log(\"favourites\", data);\n  useEffect(() => {\n    if (isLoading) {\n      setFavourites((repos: IFavourites) => {\n        return { ...repos, loading: true, error: false };\n      });\n    } else {\n      console.log(\"error\", error);\n      if (error) setFavourites({ results: data, loading: false, error: error });\n      else {\n        console.log(\"entra\");\n        setFavourites((repos: IFavourites) => ({\n          ...repos,\n          results: data,\n          loading: false,\n          error: null,\n        }));\n      }\n    }\n  }, [isLoading]);\n};\n\nexport default useGetFavourites;\n"]},"metadata":{},"sourceType":"module"}